## 需求分析与实施策略
您要求完善学科实验组件库，涵盖元数据扩充、统一接口、多模式支持、无障碍/国际化以及测试交付。

### 1. 组件库扩充
*   **地理 (GeographyLab)**: 实现“地质构造模拟器”。通过施加压力/张力，模拟断层、褶皱的形成过程。
*   **生物 (BiologyLab)**: 增强现有组件，增加“细胞观察”模式（2D 显微镜视图）。
*   **物理 (PhysicsLab)**: 增加“电路搭建”实验（拖拽元件连线）。

### 2. 元数据与数据库升级
*   **Schema 变更**: 在 `experiments` 表中新增 `equipment_list` (JSONB), `safety_level` (Enum), `duration_minutes` (Int), `chapter` (Text) 字段。
*   **数据迁移**: 编写 SQL 脚本更新现有数据。

### 3. 统一接口与多模式
*   **接口定义**: 在 `src/types/lab.ts` 中定义 `LabComponentProps`，包含 `mode` ('demo' | 'explore'), `onEvent` 回调等。
*   **HOC 封装**: 创建 `withLabContext` 高阶组件，统一处理模式切换、错误捕获和日志上报。

### 4. 国际化与无障碍
*   **i18n**: 引入 `i18next`，提取所有硬编码文本到 `src/locales/zh-CN.json`。
*   **a11y**: 确保所有交互元素有 `aria-label`，增加键盘导航支持（尤其对于 Canvas 内部对象，提供替代的键盘操作面板）。

### 5. 测试与交付
*   **E2E**: 使用 Cypress 编写关键路径测试（进入实验 -> 操作 -> 生成报告）。
*   **Storybook**: 配置 Storybook，为每个实验组件生成独立文档页。
*   **打包**: 编写脚本将组件源码打包为 `.tgz`，便于分发。

## 执行步骤
1.  **数据库迁移**: 扩展实验元数据表结构。
2.  **基础设施**: 搭建 i18n、Storybook 和 Cypress 环境。
3.  **核心重构**: 定义统一接口，并重构现有组件适配新接口。
4.  **新组件开发**: 实现地理与增强版生物/物理实验。
5.  **测试与打包**: 编写测试用例，执行打包脚本。

## 交付物清单
*   更新后的数据库 Schema (`migrations/*.sql`)。
*   包含多学科实验的组件库 (`src/experiments/`)。
*   Storybook 文档与 Cypress 测试报告。
*   组件打包文件与部署说明。